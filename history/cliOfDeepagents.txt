  1. Agent ä¸ªæ€§åŒ–å®šåˆ¶

  - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯: ä¿®æ”¹ default_agent_prompt.md
  - ä¸ªæ€§åŒ–è®°å¿†ç³»ç»Ÿ: é€šè¿‡ ~/.deepagents/AGENT_NAME/agent.md
  - è‡ªå®šä¹‰è¡Œä¸ºæ¨¡å¼: è°ƒæ•´ Agent çš„å“åº”é£æ ¼å’Œä¸“ä¸šçŸ¥è¯†

  2. UI ç•Œé¢å®šåˆ¶

  # ä¿®æ”¹ config.py ä¸­çš„é¢œè‰²ä¸»é¢˜
  COLORS = {
      "primary": "#10b981",    # ä¸»è‰²è°ƒ
      "dim": "#6b7280",        # æ¬¡è¦è‰²è°ƒ
      "user": "#ffffff",       # ç”¨æˆ·è¾“å…¥é¢œè‰²
      "agent": "#10b981",      # AIå“åº”é¢œè‰²
      "thinking": "#34d399",   # æ€è€ƒçŠ¶æ€é¢œè‰²
      "tool": "#fbbf24",       # å·¥å…·è°ƒç”¨é¢œè‰²
  }

  # è‡ªå®šä¹‰ ASCII logo
  DEEP_AGENTS_ASCII = """
  ä½ çš„ä¸ªæ€§åŒ– Logo
  """

  3. è‡ªå®šä¹‰å·¥å…·å¼€å‘

  æ·»åŠ æ–°å·¥å…·ç¤ºä¾‹ï¼š

  # åœ¨ tools.py ä¸­æ·»åŠ ä½ çš„è‡ªå®šä¹‰å·¥å…·
  def custom_api_tool(
      endpoint: str,
      data: dict = None,
      api_key: str = None
  ):
      """ä½ çš„è‡ªå®šä¹‰ API å·¥å…·æè¿°"""
      # å®ç°ä½ çš„å·¥å…·é€»è¾‘
      pass

  def database_query(
      query: str,
      database_type: str = "mysql"
  ):
      """æ•°æ®åº“æŸ¥è¯¢å·¥å…·"""
      # å®ç°æ•°æ®åº“æ“ä½œ
      pass

  def file_analyzer(
      file_path: str,
      analysis_type: str = "syntax"
  ):
      """æ–‡ä»¶åˆ†æå·¥å…·"""
      # å®ç°æ–‡ä»¶åˆ†æåŠŸèƒ½
      pass

  4. è‡ªå®šä¹‰å‘½ä»¤å¼€å‘

  # åœ¨ commands.py ä¸­æ·»åŠ æ–°çš„æ–œæ å‘½ä»¤
  def handle_command(command: str, agent, token_tracker: TokenTracker) -> str | bool:
      cmd = command.lower().strip().lstrip("/")

      # æ·»åŠ ä½ çš„è‡ªå®šä¹‰å‘½ä»¤
      if cmd == "mytool":
          run_my_custom_tool()
          return True

      if cmd == "analyze":
          analyze_current_project()
          return True

      if cmd == "export":
          export_session_data()
          return True

      # ... åŸæœ‰å‘½ä»¤

  5. ä¸ªæ€§åŒ–é…ç½®ç®¡ç†

  # æ‰©å±• SessionState ç±»
  class CustomSessionState:
      def __init__(self,
                   auto_approve: bool = False,
                   custom_mode: str = "default",
                   workspace_type: str = "general"):
          self.auto_approve = auto_approve
          self.custom_mode = custom_mode
          self.workspace_type = workspace_type
          self.user_preferences = {}

      def set_preference(self, key: str, value):
          """è®¾ç½®ç”¨æˆ·åå¥½"""
          self.user_preferences[key] = value

      def get_preference(self, key: str):
          """è·å–ç”¨æˆ·åå¥½"""
          return self.user_preferences.get(key)

  ğŸ› ï¸ ä¸ªæ€§åŒ–å¼€å‘æ­¥éª¤

  æ­¥éª¤ 1: åˆ›å»ºä½ çš„ä¸ªæ€§åŒ–åˆ†æ”¯

  # æ–¹æ³• 1: å¤åˆ¶ç°æœ‰ä»£ç åˆ°ä½ çš„é¡¹ç›®
  cp -r .venv/lib/python3.12/site-packages/deepagents-cli ./my_deepagents

  # æ–¹æ³• 2: åˆ›å»ºæ–°çš„ Python åŒ…
  mkdir my_deepagents
  cd my_deepagents

  æ­¥éª¤ 2: åˆ›å»ºä¸ªæ€§åŒ–é…ç½®æ–‡ä»¶

  # my_deepagents/personal_config.py
  class PersonalConfig:
      # ä¸ªæ€§åŒ–è®¾ç½®
      AGENT_NAME = "my_assistant"
      AGENT_ROLE = "ä¸“ä¸šçš„ Python å¼€å‘åŠ©æ‰‹"
      WORKING_DIRECTORY = "/path/to/your/project"

      # è‡ªå®šä¹‰å·¥å…·åˆ—è¡¨
      CUSTOM_TOOLS = [
          "custom_api_tool",
          "database_query",
          "file_analyzer",
          # ä½ çš„å…¶ä»–å·¥å…·
      ]

      # UI ä¸ªæ€§åŒ–
      CUSTOM_COLORS = {
          "primary": "#ff6b6b",
          "accent": "#4ecdc4",
          # å…¶ä»–é¢œè‰²
      }

      # è‡ªå®šä¹‰å‘½ä»¤
      CUSTOM_COMMANDS = {
          "analyze": "åˆ†æå½“å‰é¡¹ç›®ç»“æ„",
          "deploy": "éƒ¨ç½²é¡¹ç›®",
          "test": "è¿è¡Œæµ‹è¯•å¥—ä»¶",
          # ä½ çš„å…¶ä»–å‘½ä»¤
      }

  æ­¥éª¤ 3: åˆ›å»ºä¸ªæ€§åŒ– Agent

  # my_deepagents/my_agent.py
  from deepagents import create_deep_agent
  from deepagents_cli.agent import create_agent_with_config
  from .personal_config import PersonalConfig
  from .custom_tools import get_custom_tools

  def create_personal_agent():
      """åˆ›å»ºä¸ªæ€§åŒ– AI åŠ©æ‰‹"""

      # åŠ è½½ä¸ªæ€§åŒ–ç³»ç»Ÿæç¤º
      system_prompt = f"""
      ä½ æ˜¯ {PersonalConfig.AGENT_ROLE}ã€‚

      # ä¸“ä¸šé¢†åŸŸ
      - Python å¼€å‘
      - æ•°æ®åˆ†æ
      - æœºå™¨å­¦ä¹ 

      # äº¤äº’é£æ ¼
      - ç®€æ´ç›´æ¥
      - æä¾›å¯æ‰§è¡Œä»£ç 
      - ä¸»åŠ¨å»ºè®®æœ€ä½³å®è·µ

      # å·¥å…·ä½¿ç”¨
      - ä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰å·¥å…·
      - è§£é‡Šå¤æ‚æ“ä½œ
      """

      # è·å–è‡ªå®šä¹‰å·¥å…·
      custom_tools = get_custom_tools()

      # åˆ›å»º Agent
      agent = create_agent_with_config(
          model=create_model(),
          assistant_id=PersonalConfig.AGENT_NAME,
          tools=custom_tools,
          system_prompt=system_prompt
      )

      return agent

  æ­¥éª¤ 4: åˆ›å»ºè‡ªå®šä¹‰å·¥å…·é›†

  # my_deepagents/custom_tools.py
  import requests
  import sqlite3
  import pandas as pd
  from typing import Dict, Any

  def project_analyzer(project_path: str = ".") -> Dict[str, Any]:
      """åˆ†æé¡¹ç›®ç»“æ„å’ŒæŠ€æœ¯æ ˆ"""
      import os
      from pathlib import Path

      project = Path(project_path)

      analysis = {
          "structure": {},
          "technologies": [],
          "dependencies": [],
          "size_stats": {}
      }

      # åˆ†ææ–‡ä»¶ç»“æ„
      for file_path in project.rglob("*"):
          if file_path.is_file():
              ext = file_path.suffix.lower()
              analysis["structure"][ext] = analysis["structure"].get(ext, 0) + 1

      # æ£€æµ‹æŠ€æœ¯æ ˆ
      if (project / "requirements.txt").exists():
          analysis["technologies"].append("Python")
      if (project / "package.json").exists():
          analysis["technologies"].append("Node.js")

      return analysis

  def code_quality_check(file_path: str) -> Dict[str, Any]:
      """ä»£ç è´¨é‡æ£€æŸ¥"""
      # å®ç°ä»£ç è´¨é‡åˆ†æ
      pass

  def automated_test_generator(code_file: str) -> str:
      """è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹"""
      # å®ç°æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
      pass

  def get_custom_tools():
      """è¿”å›æ‰€æœ‰è‡ªå®šä¹‰å·¥å…·"""
      return [
          project_analyzer,
          code_quality_check,
          automated_test_generator,
          # æ·»åŠ ä½ çš„å…¶ä»–å·¥å…·
      ]

  æ­¥éª¤ 5: åˆ›å»ºä¸ªæ€§åŒ– CLI

  # my_deepagents/my_cli.py
  import asyncio
  from deepagents_cli.main import simple_cli
  from deepagents_cli.config import SessionState
  from .personal_config import PersonalConfig
  from .my_agent import create_personal_agent

  async def start_personal_cli():
      """å¯åŠ¨ä¸ªæ€§åŒ– CLI"""

      # åˆ›å»ºä¸ªæ€§åŒ– Agent
      agent = create_personal_agent()

      # åˆ›å»ºè‡ªå®šä¹‰ä¼šè¯çŠ¶æ€
      session_state = SessionState(
          auto_approve=False,
          custom_mode=PersonalConfig.AGENT_NAME
      )

      # æ˜¾ç¤ºä¸ªæ€§åŒ–æ¬¢è¿ä¿¡æ¯
      from rich.console import Console
      console = Console()
      console.print(f"ğŸš€ æ¬¢è¿ä½¿ç”¨ {PersonalConfig.AGENT_NAME}!", style="bold blue")
      console.print(f"è§’è‰²: {PersonalConfig.AGENT_ROLE}")
      console.print("è¾“å…¥ /help æŸ¥çœ‹å¯ç”¨å‘½ä»¤")

      # å¯åŠ¨ CLI å¾ªç¯
      await simple_cli(agent, PersonalConfig.AGENT_NAME, session_state)

  def main():
      """ä¸»å…¥å£å‡½æ•°"""
      asyncio.run(start_personal_cli())

  if __name__ == "__main__":
      main()
