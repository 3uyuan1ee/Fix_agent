Readå·¥å…·è°ƒç”¨å¤±è´¥åŸå› åˆ†æåŠè§£å†³æ–¹æ¡ˆ

  åŸºäºæˆ‘çš„è¯Šæ–­æµ‹è¯•ï¼Œæˆ‘å‘ç°äº†å‡ ä¸ªå¯èƒ½å¯¼è‡´readå·¥å…·è°ƒç”¨å¤±è´¥çš„åŸå› ï¼š

  âŒ å‘ç°çš„é—®é¢˜

  1. æ–¹æ³•åé”™è¯¯: ä½¿ç”¨äº†read_file()è€Œå®é™…æ–¹æ³•æ˜¯read()
  2. å¯¼å…¥è·¯å¾„é—®é¢˜: base_agentåº”è¯¥æ˜¯src.workflow.agents.base_agent
  3. ç¼ºå°‘æ¨¡å—: deepagents.toolsæ¨¡å—ä¸å­˜åœ¨
  4. Agentæ„å»ºæˆåŠŸä½†å·¥å…·åŠ è½½å¤±è´¥: ä»£ç åˆ†æå·¥å…·å¯¼å…¥å¤±è´¥

  âœ… éªŒè¯æ­£å¸¸çš„éƒ¨åˆ†

  1. æ–‡ä»¶ç³»ç»ŸBackendæ­£å¸¸: FilesystemBackendå·¥ä½œæ­£å¸¸
  2. åŸºæœ¬è¯»å–åŠŸèƒ½æ­£å¸¸: PythonåŸç”Ÿè¯»å–å’ŒBackendè¯»å–éƒ½æˆåŠŸ
  3. Agentæ„å»ºæ­£å¸¸: åŸºç¡€Agentå¯ä»¥æ­£å¸¸åˆ›å»ºå’Œè¿è¡Œ

  ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

  1. ç¡®ä¿æ­£ç¡®çš„å·¥å…·æ–¹æ³•å

  # âŒ é”™è¯¯
  backend.read_file("file.txt")

  # âœ… æ­£ç¡®
  backend.read("file.txt")

  2. ç¡®ä¿Agenté…ç½®æ­£ç¡®çš„æ–‡ä»¶ç³»ç»ŸBackend

  from deepagents.backends.filesystem import FilesystemBackend

  # ä¸ºAgenté…ç½®æ–‡ä»¶ç³»ç»Ÿåç«¯
  agent_config = AgentConfig(
      name="my-agent",
      backend=FilesystemBackend(root_dir="."),  # æŒ‡å®šæ ¹ç›®å½•
      # å…¶ä»–é…ç½®...
  )

  3. æ£€æŸ¥Agentçš„å·¥å…·é…ç½®

  åœ¨ä½ çš„BaseAgentä¸­ç¡®ä¿æ–‡ä»¶æ“ä½œå·¥å…·æ­£ç¡®é…ç½®ï¼š

  class DeveloperAgent(BaseAgent):
      def _build_custom(self) -> None:
          # ç¡®ä¿æœ‰æ–‡ä»¶ç³»ç»Ÿbackend
          if self.config.backend is None:
              from deepagents.backends.filesystem import FilesystemBackend
              self.config.backend = FilesystemBackend(root_dir=".")

          # æ·»åŠ æ–‡ä»¶æ“ä½œç›¸å…³å·¥å…·
          self.config.tools = [
              # è‡ªå®šä¹‰å·¥å…·å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ 
          ]

  4. éªŒè¯æ–‡ä»¶è·¯å¾„

  # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
  import os
  file_path = "test.txt"
  if not os.path.exists(file_path):
      print(f"æ–‡ä»¶ä¸å­˜åœ¨: {file_path}")
      return False

  # æ£€æŸ¥æƒé™
  if not os.access(file_path, os.R_OK):
      print(f"æ–‡ä»¶æ— è¯»å–æƒé™: {file_path}")
      return False

  5. å¸¸è§é”™è¯¯æ’æŸ¥æ¸…å•

  - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆç›¸å¯¹è·¯å¾„/ç»å¯¹è·¯å¾„ï¼‰
  - æ£€æŸ¥æ–‡ä»¶æƒé™ï¼ˆè¯»å–æƒé™ï¼‰
  - æ£€æŸ¥æ–‡ä»¶ç¼–ç ï¼ˆæ˜¯å¦æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼‰
  - æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆæ˜¯å¦è¿‡å¤§å¯¼è‡´è¶…æ—¶ï¼‰
  - æ£€æŸ¥Backendæ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
  - æ£€æŸ¥Agentæ˜¯å¦æ­£ç¡®é…ç½®äº†backend
