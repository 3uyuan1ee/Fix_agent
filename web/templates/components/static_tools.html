<!-- 静态分析工具选择组件 -->
<div class="tools-selection">
    <!-- 工具选择模式 -->
    <div class="mb-3">
        <div class="btn-group" role="group">
            <input type="radio" class="btn-check" name="selectionMode" id="modeQuick" value="quick" checked>
            <label class="btn btn-outline-primary" for="modeQuick">
                <i class="fas fa-bolt me-1"></i>
                快速选择
            </label>

            <input type="radio" class="btn-check" name="selectionMode" id="modeCustom" value="custom">
            <label class="btn btn-outline-primary" for="modeCustom">
                <i class="fas fa-cogs me-1"></i>
                自定义选择
            </label>
        </div>
    </div>

    <!-- 快速选择预设 -->
    <div id="quickSelection" class="quick-selection">
        <div class="row">
            <div class="col-md-4">
                <div class="tool-preset-card" data-preset="basic">
                    <div class="preset-header">
                        <h6 class="preset-title">
                            <i class="fas fa-graduation-cap me-2"></i>
                            基础检查
                        </h6>
                        <span class="badge bg-info">推荐</span>
                    </div>
                    <div class="preset-body">
                        <p class="preset-description">适合初学者，检查常见的语法错误和基本问题</p>
                        <div class="preset-tools">
                            <span class="tool-tag">pylint</span>
                            <span class="tool-tag">flake8</span>
                            <span class="tool-tag">mypy</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tool-preset-card" data-preset="comprehensive">
                    <div class="preset-header">
                        <h6 class="preset-title">
                            <i class="fas fa-shield-alt me-2"></i>
                            全面检查
                        </h6>
                        <span class="badge bg-success">专业</span>
                    </div>
                    <div class="preset-body">
                        <p class="preset-description">包含安全检查和性能分析，适合生产环境</p>
                        <div class="preset-tools">
                            <span class="tool-tag">pylint</span>
                            <span class="tool-tag">bandit</span>
                            <span class="tool-tag">mypy</span>
                            <span class="tool-tag">vulture</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tool-preset-card" data-preset="security">
                    <div class="preset-header">
                        <h6 class="preset-title">
                            <i class="fas fa-lock me-2"></i>
                            安全专项
                        </h6>
                        <span class="badge bg-warning">企业</span>
                    </div>
                    <div class="preset-body">
                        <p class="preset-description">专注于安全漏洞检测，保护代码安全</p>
                        <div class="preset-tools">
                            <span class="tool-tag">bandit</span>
                            <span class="tool-tag">safety</span>
                            <span class="tool-tag">semgrep</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 自定义工具选择 -->
    <div id="customSelection" class="custom-selection" style="display: none;">
        <div class="row">
            <!-- 语法和风格检查工具 -->
            <div class="col-md-6">
                <h6 class="tool-category-title">
                    <i class="fas fa-code me-2"></i>
                    语法和风格检查
                </h6>

                <!-- Pylint -->
                <div class="tool-card" data-tool="pylint">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="pylint-check">
                            <label for="pylint-check" class="tool-name">Pylint</label>
                        </div>
                        <span class="badge bg-primary">推荐</span>
                    </div>
                    <div class="tool-description">
                        <p>Python代码质量检查工具，检查错误、编码标准、代码异味等</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">代码规范</span>
                            <span class="scenario-tag">质量检查</span>
                            <span class="scenario-tag">重构建议</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <label class="form-label">评分阈值</label>
                                <input type="number" class="form-control form-control-sm"
                                       id="pylint-score" min="0" max="10" value="7">
                            </div>
                            <div class="mb-2">
                                <label class="form-label">启用检查</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox"
                                           id="pylint-errors" checked>
                                    <label class="form-check-label" for="pylint-errors">错误</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox"
                                           id="pylint-warnings" checked>
                                    <label class="form-check-label" for="pylint-warnings">警告</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox"
                                           id="pylint-conventions">
                                    <label class="form-check-label" for="pylint-conventions">规范</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flake8 -->
                <div class="tool-card" data-tool="flake8">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="flake8-check">
                            <label for="flake8-check" class="tool-name">Flake8</label>
                        </div>
                        <span class="badge bg-secondary">快速</span>
                    </div>
                    <div class="tool-description">
                        <p>轻量级Python代码检查工具，检查PEP8规范和语法错误</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">PEP8检查</span>
                            <span class="scenario-tag">CI/CD</span>
                            <span class="scenario-tag">快速扫描</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <label class="form-label">最大行长度</label>
                                <input type="number" class="form-control form-control-sm"
                                       id="flake8-max-line-length" value="88">
                            </div>
                            <div class="mb-2">
                                <label class="form-label">忽略错误代码</label>
                                <input type="text" class="form-control form-control-sm"
                                       id="flake8-ignore" placeholder="E501,W503">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MyPy -->
                <div class="tool-card" data-tool="mypy">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="mypy-check">
                            <label for="mypy-check" class="tool-name">MyPy</label>
                        </div>
                        <span class="badge bg-info">类型检查</span>
                    </div>
                    <div class="tool-description">
                        <p>静态类型检查工具，检查Python类型注解的正确性</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">类型安全</span>
                            <span class="scenario-tag">大型项目</span>
                            <span class="scenario-tag">团队协作</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="mypy-strict">
                                    <label class="form-check-label" for="mypy-strict">
                                        严格模式
                                    </label>
                                </div>
                            </div>
                            <div class="mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="mypy-implicit-optional">
                                    <label class="form-check-label" for="mypy-implicit-optional">
                                        隐式可选类型
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 安全检查工具 -->
            <div class="col-md-6">
                <h6 class="tool-category-title">
                    <i class="fas fa-shield-alt me-2"></i>
                    安全检查
                </h6>

                <!-- Bandit -->
                <div class="tool-card" data-tool="bandit">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="bandit-check">
                            <label for="bandit-check" class="tool-name">Bandit</label>
                        </div>
                        <span class="badge bg-danger">安全</span>
                    </div>
                    <div class="tool-description">
                        <p>Python安全漏洞检查工具，检测常见安全问题</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">安全审计</span>
                            <span class="scenario-tag">代码审查</span>
                            <span class="scenario-tag">合规检查</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <label class="form-label">安全级别</label>
                                <select class="form-select form-select-sm" id="bandit-level">
                                    <option value="low">低</option>
                                    <option value="medium" selected>中</option>
                                    <option value="high">高</option>
                                </select>
                            </div>
                            <div class="mb-2">
                                <label class="form-label">置信度</label>
                                <select class="form-select form-select-sm" id="bandit-confidence">
                                    <option value="low">低</option>
                                    <option value="medium" selected>中</option>
                                    <option value="high">高</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Safety -->
                <div class="tool-card" data-tool="safety">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="safety-check">
                            <label for="safety-check" class="tool-name">Safety</label>
                        </div>
                        <span class="badge bg-warning">依赖安全</span>
                    </div>
                    <div class="tool-description">
                        <p>检查Python依赖包中的已知安全漏洞</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">依赖安全</span>
                            <span class="scenario-tag">漏洞扫描</span>
                            <span class="scenario-tag">供应链安全</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <label class="form-label">数据库文件</label>
                                <input type="text" class="form-control form-control-sm"
                                       id="safety-db" placeholder="默认使用官方数据库">
                            </div>
                            <div class="mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="safety-report">
                                    <label class="form-check-label" for="safety-report">
                                        生成详细报告
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vulture -->
                <div class="tool-card" data-tool="vulture">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="vulture-check">
                            <label for="vulture-check" class="tool-name">Vulture</label>
                        </div>
                        <span class="badge bg-secondary">清理</span>
                    </div>
                    <div class="tool-description">
                        <p>查找并删除未使用的Python代码，帮助代码清理</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">代码清理</span>
                            <span class="scenario-tag">重构</span>
                            <span class="scenario-tag">优化</span>
                        </div>
                    </div>
                    <div class="tool-config">
                        <div class="config-toggle">
                            <button type="button" class="btn btn-sm btn-outline-secondary config-toggle-btn">
                                <i class="fas fa-cog me-1"></i>
                                自定义参数
                            </button>
                        </div>
                        <div class="config-options" style="display: none;">
                            <div class="mb-2">
                                <label class="form-label">最小置信度</label>
                                <input type="number" class="form-control form-control-sm"
                                       id="vulture-min-confidence" min="0" max="100" value="60">
                            </div>
                            <div class="mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="vulture-exclude-tests">
                                    <label class="form-check-label" for="vulture-exclude-tests">
                                        排除测试文件
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 其他高级工具 -->
        <div class="row mt-4">
            <div class="col-12">
                <h6 class="tool-category-title">
                    <i class="fas fa-rocket me-2"></i>
                    高级工具
                </h6>
            </div>
            <div class="col-md-4">
                <div class="tool-card" data-tool="semgrep">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="semgrep-check">
                            <label for="semgrep-check" class="tool-name">Semgrep</label>
                        </div>
                        <span class="badge bg-success">企业级</span>
                    </div>
                    <div class="tool-description">
                        <p>跨语言静态分析工具，支持自定义规则</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">企业级</span>
                            <span class="scenario-tag">自定义规则</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tool-card" data-tool="pydocstyle">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="pydocstyle-check">
                            <label for="pydocstyle-check" class="tool-name">Pydocstyle</label>
                        </div>
                        <span class="badge bg-info">文档</span>
                    </div>
                    <div class="tool-description">
                        <p>检查Python文档字符串是否符合规范</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">文档规范</span>
                            <span class="scenario-tag">代码质量</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="tool-card" data-tool="black">
                    <div class="tool-header">
                        <div class="tool-info">
                            <input type="checkbox" class="form-check-input tool-checkbox" id="black-check">
                            <label for="black-check" class="tool-name">Black</label>
                        </div>
                        <span class="badge bg-dark">格式化</span>
                    </div>
                    <div class="tool-description">
                        <p>Python代码格式化工具，确保代码风格一致</p>
                        <div class="tool-scenarios">
                            <strong>适用场景：</strong>
                            <span class="scenario-tag">代码格式化</span>
                            <span class="scenario-tag">风格统一</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>